(this["webpackJsonpreact-task"]=this["webpackJsonpreact-task"]||[]).push([[0],{56:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),o=n(27),r=n.n(o),i=n(5),s=n(13),l=n.n(s),u=(n(56),n(31)),d=n(65),j=n(30),b=n(7),g=n(66),m=function(){var e="https://plotter-task.herokuapp.com/",t={"Content-Type":"application/json"},n=l.a.create({baseURL:e,headers:t});return n},O=n(1),h=Object(c.createContext)([{},function(){}]),f=function(e){var t=e.children,n=Object(c.useState)([]),a=Object(i.a)(n,2),o=a[0],r=a[1];return Object(c.useEffect)((function(){m().get("columns").then((function(e){r(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(O.jsx)(h.Provider,{value:o,children:t})},v={border:"1px dashed gray",backgroundColor:"white",padding:"0.5rem 1rem",marginRight:"1.5rem",marginBottom:"1.5rem",cursor:"move"},x=Object(g.a)("box",{beginDrag:function(e){return{name:e.name,function:e.function}},endDrag:function(e,t){var n=t.getItem(),c=t.getDropResult();console.log(e),c&&("dimension"==n.function?localStorage.setItem("activDimension",JSON.stringify([n.name])):"measure"==n.function&&localStorage.setItem("activMeasure",JSON.stringify([n.name]))),window.location.reload()}},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))((function(e){var t=e.name,n=e.isDragging,a=e.connectDragSource,o=n?.4:1,r=Object(c.useContext)(h),s=Object(i.a)(r,2);s[0],s[1];return Object(O.jsx)("div",{ref:a,role:"Box","data-testid":"box-".concat(t),style:Object(b.a)(Object(b.a)({},v),{},{opacity:o}),children:t})})),p=n(67),S={height:"12rem",width:"100%",padding:"1rem"},D=Object(p.a)("box",{drop:function(){return{name:"Dustbin"}}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}}))((function(e){var t=e.canDrop,n=e.isOver,c=e.connectDropTarget,a="#FFF";t&&n?a="green":t&&(a="darkkhaki");var o=function(e){localStorage.setItem(e,""),window.location.reload()};return Object(O.jsxs)("div",{ref:c,style:Object(b.a)({},S),role:"Dustbin",children:[Object(O.jsxs)("div",{className:"form-control",children:[Object(O.jsx)("label",{htmlFor:"",children:"Dimention"}),Object(O.jsx)("input",{style:{backgroundColor:a},value:localStorage.getItem("activDimension")&&JSON.parse(localStorage.getItem("activDimension"))}),Object(O.jsx)("button",{onClick:function(){return o("activDimension")},children:"Clear"})]}),Object(O.jsxs)("div",{className:"form-control",children:[Object(O.jsx)("label",{htmlFor:"",children:"measures"}),Object(O.jsx)("input",{style:{backgroundColor:a},value:localStorage.getItem("activMeasure")&&JSON.parse(localStorage.getItem("activMeasure"))}),Object(O.jsx)("button",{onClick:function(){return o("activMeasure")},children:"Clear"})]})]})})),C=Object(c.createContext)([{},function(){}]),I=function(e){var t=e.children,n=Object(c.useState)([]),a=Object(i.a)(n,2),o=a[0],r=a[1],s=Object(c.useState)(!1),l=Object(i.a)(s,2),u=l[0],d=l[1],j={};localStorage.getItem("activDimension")&&localStorage.getItem("activMeasure")&&(j={dimension:JSON.parse(localStorage.getItem("activDimension"))[0],measures:JSON.parse(localStorage.getItem("activMeasure"))}),Object(c.useEffect)((function(){m().post("data",j).then((function(e){r(e.data),d(!0)})).catch((function(e){console.log(e),d(!1)}))}),[]);var b=[o,u];return Object(O.jsx)(C.Provider,{value:b,children:t})};var w=function(){var e,t=Object(c.useContext)(h),n=Object(c.useContext)(C),a=Object(i.a)(n,1)[0],o=Object(c.useContext)(C);return console.log(t),Object(c.useEffect)((function(){!window.localStorage.getItem("activMeasure")&&window.localStorage.setItem("activMeasure",""),!window.localStorage.getItem("activDimension")&&window.localStorage.setItem("activDimension",[""])}),[]),a.length>0&&(e={labels:a[0].values,datasets:[{label:a[1].name,data:a[1].values,fill:!1,borderColor:"#42A5F5",tension:0}]}),Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(d.a,{backend:j.a,children:Object(O.jsxs)("div",{className:"content d-flex",children:[Object(O.jsxs)("div",{className:"sidebar",children:[Object(O.jsx)("h3",{children:"Columns"}),Object(O.jsx)("hr",{}),t.length>0?Object(O.jsx)("ul",{children:t.map((function(e){return Object(O.jsx)("li",{children:Object(O.jsx)(x,{name:e.name,function:e.function})})}))}):Object(O.jsx)("p",{children:"Loading Columns..."})]}),Object(O.jsxs)("div",{className:"main-content",children:[Object(O.jsx)(D,{}),o[1]?Object(O.jsx)(u.a,{type:"line",data:e}):Object(O.jsx)("p",{className:"no-data",children:"No Data Loaded"})]})]})})})},k=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,68)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),o(e),r(e)}))};r.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(f,{children:Object(O.jsx)(I,{children:Object(O.jsx)(w,{})})})}),document.getElementById("root")),k()}},[[60,1,2]]]);
//# sourceMappingURL=main.840aec7b.chunk.js.map